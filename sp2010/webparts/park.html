<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml" xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882">

<head>
    <script type="text/javascript" src="/Style%20Library/V6/js/vendor/mdb/jquery-3.2.1.min.js"></script>
    <style>
        h1,
        h3,
        h5 {
            font-family: Arquette;
            color: black;
            font-weight: 700;
        }

        .byLetter {
            overflow-x: scroll;
            white-space: nowrap;
        }

        .byLetter a {
            display: inline-block;
            text-align: center;
            padding: 14px;
            text-decoration: none;
        }

        #dir-title {
            font-size: 2.5rem;
        }

        #description h1 {
            font-weight: 700;
        }
        /*
        #dir-description {
			white-space: pre-wrap;
		}
        */
		#dir-statement {
			white-space: pre-wrap;
		}

        h2#dir-artist {
            font-size: 1.35rem;
            font-weight: 400;
            /*color: #0277BD;*/
        }

        span#dir-year {
            margin-right: 20px;
        }

        img#dir-img.contactImg {
            width: 100%;
            border-radius: 2px;
        }

        .contactInfoButton {
            text-align: center;
            border: 1px solid #eaeaea;
            background-color: #eaeaea;
            display: block;
            border-radius: 2px;
        }

        #addressInfo ul {
            padding: 0;
        }

        #addressInfo ul li {
            list-style: none;
        }

        .tags {
            padding: 4px 10px;
            background-color: #f4f4f4;
            border-radius: 2px;
            margin: 4px;
            display: inline-block;
        }

        #mapid {
            height: 150px;
            width: 100%;
            border-radius: 2px;
        }

        #backToDir a::before {
            content: "\f104";
            padding-right: 10px;
            margin-bottom: -5px;
            font-family: 'FontAwesomeSolid';
            font-size: 1rem;
            top: 1px;
            position: relative;
        }

        #infoTabs {
		    border-radius: 6px;
		    padding-top: 5px;
		    background-color: #f5f5f5;
		}

		#infoTabs li {
			width: 120px;
			text-align: center;
		}

		#Attractions-tab.active, #Events-tab.active, #Rentals-tab.active {
			background-color: #fff;
			box-shadow: 0 3px 6px rgba(0,0,0,0.1);
			border-radius: 6px;
		}

		.today {
			font-weight: 600;
			color: #00c853;
		}

		.parkCarousel img {
		  height: 200px;
		  display: block;
		}
		/* Datatable styles */
	 	.dataTables_length label {
			margin-right: 1rem;
			padding-top: 1rem;
		}

		.dataTables_filter.md-form {
			margin-top: .55rem;
		}

		.dataTables_filter.md-form input {
			font-weight: 300;
		}

		.dataTables_wrapper .row {
			margin-bottom: 1.5rem;
		}

		div.dataTables_wrapper div.dataTables_info {
			padding-top: 0;
			padding-bottom: 1rem;
		}

		.dataTables_paginate {
			float: right;
		}

		.dataTables_filter {
			float: right;
		}

		.dataTables_wrapper td.row {
			margin-bottom: 0rem;
		}

		.dataTables_wrapper .dataTables_paginate .paginate_button:active,
		.dataTables_wrapper .dataTables_paginate .paginate_button:hover,
		.dataTables_wrapper .dataTables_paginate .paginate_button:focus {
			outline: none !important;
			border: none;
			background-color: white !important;
			background: none !important;
			box-shadow: 0 0 0 0 !important;
		}

		div.dataTables_wrapper div.dataTables_info {
			white-space: normal;
		}

		.select-wrapper input.select-dropdown {
			margin-bottom: 0px;
			padding-top: 15px;
		}

		div.dataTables_wrapper div.dataTables_length label {
			margin-bottom: 0px;
			padding-top: 25px;
		}

		.select-dropdown {
			margin-top: 27px;
		}

		.select-wrapper span.caret {
			margin-top: 15px;
		}

		.pagination .page-link:focus {
			background-color: #007bff;
		}

		.browardT td,
		div.dataTables_wrapper div.dataTables_length label,
		#socialTable_info {
			font-size: 1rem;
			font-family: Arquette;
			line-height: 1rem;
		}

		.browardT th {
			font-size: 1.1rem;
			font-weight: 500;
			font-family: Arquette;
		}

		#socialTable.table a {
			color: #0277BD;
		}

		@media only screen and (max-width:768px) {
			#rfaTable_filter {
				width: 100%
			}

			#rfaTable_filter input {
				width: 100%
			}

			.dataTables_wrapper .row {
				margin-bottom: .5rem;
			}
		}

		#tabsWebPart>div.tabs-wrapper>ul {
			background-color: #1C2A48;
			color: white;
			font-family: Arquette;
			font-size: 1rem !important;
		}

		#tabsWebPart {
			color: #333;
			font-family: Arquette;
		}

		.table {
			color: #333;
			font-family: Arquette;
		}

		#tabsWebPart>div.tabs-wrapper a,
		#tabsWebPart .nav a:active,
		#tabsWebPart .nav a:visited,
		#tabsWebPart .nav a:link {
			color: white !important;
		}

		#tabsWebPart p {
			font-family: Arquette;
			font-size: 1rem !important;
			font-weight: 300;
			color: #333;
		}

		#tabsWebPart .btn {
			padding: .85rem 1rem;
		}

		#pubInfo .modal-header {
    		background-color: #039BE5;
			color:white;
		}
		#pubInfo .btn-pub{
    		background-color: #ffa000;
			color:#333!important;
		}
        .fa-layers{
            vertical-align:27.5%;
        }
        #sRowItems .fa-star{
            position:absolute;
            right:7px;
        }
        img.carousel-cell {
    		padding: 3px;
		}

		/* flickity styles */

		/* no circle */
		.flickity-button {
		  background: transparent;
		}
		/* big previous & next buttons */
		.flickity-prev-next-button {
		  width: 40px;
		  height: 40px;
		}
		/* icon color */
		.flickity-button-icon {
		  fill: white;
		}
		/* hide disabled button */
		.flickity-button:disabled {
		  display: none;
		}
        div#directoryItem {
            font-family: Arquette;
            font-size: 1rem;
        }
        .eventDetails {
            line-height: 1.47rem;
        }
        #alertContainer {
        background-color: #FF9802;
        cursor: pointer;
        border: 1px solid #FF9802;
    }
    #alertText {
        font-family: Arquette;
        padding-top: 6px;
        color: #1C2A48;
        font-weight: 500;
    }
    .close {
        color: #1C2A48;
        padding-top: 2px;
    }
        @media only screen and (max-width:1299px) {
            .mobileDays {
                display: block;
            }
            .desktopDays {
                display: none;
            }
        }
        @media only screen and (min-width:1300px) {
            .mobileDays {
                display: none;
            }
            .desktopDays {
                display: block;
            }
        }

</style>
    <!-- Flickity styles -->
    <link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css">
    <!-- /Flickity styles -->
    <!-- Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.2/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
        crossorigin="" />
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.3.2/dist/leaflet.js" integrity="sha512-2fA79E27MOeBgLjmBrtAgM/20clVSV8vJERaW/EcnnWCVGwQRazzKtQS1kIusCZv1PtaQxosDZZ0F1Oastl55w=="
        crossorigin=""></script>
</head>

<body>
    <!-- Directory Web Part - Item View -->
    <div id="directoryItem" class="container py-3 d-none">

        <div id="alert-row" class="row d-none">
            <div class="col">
                <div id="alertContainer" class="alert alert-orange alert-dismissable fade show d-block w-100" role="alert">
                    <div type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </div>
                    <p id="alertText">-</p>
                </div>
            </div>
        </div>

        <div id="images" class="mb-5">
            <!-- Flickity HTML init -->
            <div class="parkCarousel d-none">
            </div>
        </div>

        <div class="row my-3">
            <div class="col-md-8 px-3">
                <h1 id="dir-title">&para;</h1>
                <strong id="dir-description-title" class="d-none">
                    Overview</strong>
                <p id="dir-description" class="d-none">&para;</p>
                <a id="reserve" class="btn btn-outline light-blue darken-1 waves-effect py-2 my-3 d-none" target="_blank"><i
                        class="fal fa-calendar-check"></i> Make a Reservation</a>
                <a id="camp" class="btn btn-outline light-blue darken-1 waves-effect py-2 my-3 d-none" target="_blank"><i
                        class="fal fa-compass"></i> Book a Campsite</a>

                <div class="row">
                    <div class="col">
                        <strong id="dir-statement-title" class="d-none features mt-3 mb-2">Features</strong>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <ul id="dir-statement" class="features-1 mb-0" style="list-style: none; padding-inline-start: 0px;"></ul>
                    </div>
                    <div class="col-md-6">
                        <strong id="dir-statement-title" class="d-none amenities"> </strong>
                        <ul id="dir-statement" class="features-2" style="list-style: none; padding-inline-start: 0px;"></ul>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-12">
                        <!--Datatable-->
                        <table id="eventTable" class="table table-striped table-bordered table-responsive-md browardT"
                            cellspacing="0" width="100%">
                            <thead id="eventHeader"></thead>
                            <tbody id="eventItems"></tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div id="dir-map" class="col-md-4">
                <div id="mapid" class="map"></div>
                <div id="addressInfo" class="mt-3">
                    <ul>
                        <li>
                            <strong>Address</strong>
                        </li>
                        <li id="dir-located"></li>
                        <li id="dir-address1"></li>
                        <li id="dir-address2"></li>
                        <li id="dir-csz"></li>
                    </ul>
                </div>
                <div id="phone" class="my-3">
                    <strong>Phone</strong>
                    <div id="phoneNumber"></div>
                </div>
                <div id="email" class="my-3">
                    <strong>Email</strong>
                    <div id="emailAddress"></div>
                </div>
                <strong id="dir-statement-title" class="">Hours</strong>
                <div class="row mt-2">
                    <div class="col-4">
                        <ul style="list-style: none; padding-inline-start: 0px; padding-left: 0px;">
                            <!-- Mobile Text -->
                            <li id="monday" class="mobileDays">Mon</li>
                            <li id="tuesday" class="mobileDays">Tue</li>
                            <li id="wednesday" class="mobileDays">Wed</li>
                            <li id="thursday" class="mobileDays">Thu</li>
                            <li id="friday" class="mobileDays">Fri</li>
                            <li id="saturday" class="mobileDays">Sat</li>
                            <li id="sunday" class="mobileDays">Sun</li>
                            <!-- Desktop Text -->
                            <li id="monday" class="desktopDays">Monday</li>
                            <li id="tuesday" class="desktopDays">Tuesday</li>
                            <li id="wednesday" class="desktopDays">Wednesday</li>
                            <li id="thursday" class="desktopDays">Thursday</li>
                            <li id="friday" class="desktopDays">Friday</li>
                            <li id="saturday" class="desktopDays">Saturday</li>
                            <li id="sunday" class="desktopDays">Sunday</li>
                            <li id="office">Office</li>
                        </ul>
                    </div>
                    <div class="col-8">
                        <ul style="list-style: none; padding-inline-start: 0px;">
                            <li id="monday" class="hours"></li>
                            <li id="tuesday" class="hours"></li>
                            <li id="wednesday" class="hours"></li>
                            <li id="thursday" class="hours"></li>
                            <li id="friday" class="hours"></li>
                            <li id="saturday" class="hours"></li>
                            <li id="sunday" class="hours"></li>
                            <li id="office" class="hours"></li>
                        </ul>
                    </div>
                </div>
                <div class="my-2"><strong>Gate Fee</strong>
                    <div id="fee">No</div>
                </div>
                <div class="mt-3"><strong>Pet Friendly</strong>
                    <div id="pet">Yes</div>
                </div>
                <div class="mt-3"><strong>Acreage</strong>
                    <div id="acreage"></div>
                </div>
            </div>
        </div>
    </div>
    <!--Flickity-->
    <script type="text/javascript" src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>
    <!--Datatable & Moment-->
    <script type="text/javascript" defer src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="/Style%20Library/Haylee-Dev/js/broward/Library/moment.min.js"></script>
    <script type="text/javascript" defer src="https://cdn.datatables.net/plug-ins/1.10.19/sorting/datetime-moment.js"></script>
    <!--recurring moment.js plugin script inlined here only until conversion to sp2013 is complete and this can be made external-->
    <script type="text/javascript">
        (function (root, factory) {
            if (typeof exports === 'object') {
                module.exports = factory(require('moment'));
            } else if (typeof define === 'function' && define.amd) {
                define('moment-recur', ['moment'], factory);
            } else {
                root.moment = factory(root.moment);
            }
        }(this, function (moment) {
            var hasModule;
            hasModule = (typeof module !== "undefined" && module !== null) && (module.exports != null);
            if (typeof moment === 'undefined') {
                throw Error("Can't find moment");
            }
            // Interval object for creating and matching interval-based rules
            var Interval = (function () {
                function createInterval(units, measure) {
                    // Make sure all of the units are integers greater than 0.
                    for (var unit in units) {
                        if (units.hasOwnProperty(unit)) {
                            if (parseInt(unit, 10) <= 0) {
                                throw Error('Intervals must be greater than zero');
                            }
                        }
                    }
                    return {
                        measure: measure.toLowerCase(),
                        units: units
                    };
                }

                function matchInterval(type, units, start, date) {
                    // Get the difference between the start date and the provided date,
                    // using the required measure based on the type of rule'
                    var diff = null;
                    if (date.isBefore(start)) {
                        diff = start.diff(date, type, true);
                    } else {
                        diff = date.diff(start, type, true);
                    }
                    if (type == 'days') {
                        // if we are dealing with days, we deal with whole days only.
                        diff = parseInt(diff);
                    }
                    // Check to see if any of the units provided match the date
                    for (var unit in units) {
                        if (units.hasOwnProperty(unit)) {
                            unit = parseInt(unit, 10);
                            // If the units divide evenly into the difference, we have a match
                            if ((diff % unit) === 0) {
                                return true;
                            }
                        }
                    }
                    return false;
                }
                return {
                    create: createInterval,
                    match: matchInterval
                };
            })();
            // Calendar object for creating and matching calendar-based rules
            var Calendar = (function () {
                // Dictionary of unit types based on measures
                var unitTypes = {
                    "daysOfMonth": "date",
                    "daysOfWeek": "day",
                    "weeksOfMonth": "monthWeek",
                    "weeksOfMonthByDay": "monthWeekByDay",
                    "weeksOfYear": "week",
                    "monthsOfYear": "month"
                };
                // Dictionary of ranges based on measures
                var ranges = {
                    "daysOfMonth": {
                        low: 1,
                        high: 31
                    },
                    "daysOfWeek": {
                        low: 0,
                        high: 6
                    },
                    "weeksOfMonth": {
                        low: 0,
                        high: 4
                    },
                    "weeksOfMonthByDay": {
                        low: 0,
                        high: 4
                    },
                    "weeksOfYear": {
                        low: 0,
                        high: 52
                    },
                    "monthsOfYear": {
                        low: 0,
                        high: 11
                    }
                };
                // Private function for checking the range of calendar values
                function checkRange(low, high, list) {
                    list.forEach(function (v) {
                        if (v < low || v > high) {
                            throw Error('Value should be in range ' + low + ' to ' + high);
                        }
                    });
                }
                // Private function to convert day and month names to numbers
                function namesToNumbers(list, nameType) {
                    var unit, unitInt, unitNum;
                    var newList = {};
                    for (unit in list) {
                        if (list.hasOwnProperty(unit)) {
                            unitInt = parseInt(unit, 10);
                            if (isNaN(unitInt)) {
                                unitInt = unit;
                            }
                            unitNum = moment().set(nameType, unitInt).get(nameType);
                            newList[unitNum] = list[unit];
                        }
                    }
                    return newList;
                }

                function createCalendarRule(list, measure) {
                    var keys = [];
                    // Convert day/month names to numbers, if needed
                    if (measure === "daysOfWeek") {
                        list = namesToNumbers(list, "days");
                    }
                    if (measure === "monthsOfYear") {
                        list = namesToNumbers(list, "months");
                    }
                    for (var key in list)
                        if (hasOwnProperty.call(list, key)) keys.push(key);
                    // Make sure the listed units are in the measure's range
                    checkRange(ranges[measure].low,
                        ranges[measure].high,
                        keys);
                    return {
                        measure: measure,
                        units: list
                    };
                }

                function matchCalendarRule(measure, list, date) {
                    // Get the unit type (i.e. date, day, week, monthWeek, weeks, months)
                    var unitType = unitTypes[measure];
                    // Get the unit based on the required measure of the date
                    var unit = date[unitType]();
                    // If the unit is in our list, return true, else return false
                    if (list[unit]) {
                        return true;
                    }
                    // match on end of month days
                    if (unitType === 'date' && unit == date.add(1, 'months').date(0).format('D') &&
                        unit <
                        31) {
                        while (unit <= 31) {
                            if (list[unit]) {
                                return true;
                            }
                            unit++;
                        }
                    }
                    return false;
                }
                return {
                    create: createCalendarRule,
                    match: matchCalendarRule
                };
            })();
            // The main Recur object to provide an interface for settings, rules, and matching
            var Recur = (function () {
                // A dictionary used to match rule measures to rule types
                var ruleTypes = {
                    "days": "interval",
                    "weeks": "interval",
                    "months": "interval",
                    "years": "interval",
                    "daysOfWeek": "calendar",
                    "daysOfMonth": "calendar",
                    "weeksOfMonth": "calendar",
                    "weeksOfMonthByDay": "calendar",
                    "weeksOfYear": "calendar",
                    "monthsOfYear": "calendar"
                };
                // a dictionary of plural and singular measures
                var measures = {
                    "days": "day",
                    "weeks": "week",
                    "months": "month",
                    "years": "year",
                    "daysOfWeek": "dayOfWeek",
                    "daysOfMonth": "dayOfMonth",
                    "weeksOfMonth": "weekOfMonth",
                    "weeksOfMonthByDay": "weekOfMonthByDay",
                    "weeksOfYear": "weekOfYear",
                    "monthsOfYear": "monthOfYear"
                };
                /////////////////////////////////
                // Private Methods             //
                // Must be called with .call() //
                /////////////////////////////////
                // Private method that tries to set a rule.
                function trigger() {
                    var rule;
                    var ruleType = ruleTypes[this.measure];
                    if (!(this instanceof Recur)) {
                        throw Error(
                            "Private method trigger() was called directly or not called as instance of Recur!"
                        );
                    }
                    // Make sure units and measure is defined and not null
                    if ((typeof this.units === "undefined" || this.units === null) || !this.measure) {
                        return this;
                    }
                    // Error if we don't have a valid ruleType
                    if (ruleType !== "calendar" && ruleType !== "interval") {
                        throw Error("Invalid measure provided: " + this.measure);
                    }
                    // Create the rule
                    if (ruleType === "interval") {
                        if (!this.start) {
                            throw Error("Must have a start date set to set an interval!");
                        }
                        rule = Interval.create(this.units, this.measure);
                    }
                    if (ruleType === "calendar") {
                        rule = Calendar.create(this.units, this.measure);
                    }
                    // Remove the temporary rule data
                    this.units = null;
                    this.measure = null;
                    if (rule.measure === 'weeksOfMonthByDay' && !this.hasRule('daysOfWeek')) {
                        throw Error("weeksOfMonthByDay must be combined with daysOfWeek");
                    }
                    // Remove existing rule based on measure
                    for (var i = 0; i < this.rules.length; i++) {
                        if (this.rules[i].measure === rule.measure) {
                            this.rules.splice(i, 1);
                        }
                    }
                    this.rules.push(rule);
                    return this;
                }
                // Private method to get next, previous or all occurrences
                function getOccurrences(num, format, type) {
                    var currentDate, date;
                    var dates = [];
                    if (!(this instanceof Recur)) {
                        throw Error(
                            "Private method trigger() was called directly or not called as instance of Recur!"
                        );
                    }
                    if (!this.start && !this.from) {
                        throw Error("Cannot get occurrences without start or from date.");
                    }
                    if (type === "all" && !this.end) {
                        throw Error("Cannot get all occurrences without an end date.");
                    }
                    if (!!this.end && (this.start > this.end)) {
                        throw Error("Start date cannot be later than end date.");
                    }
                    // Return empty set if the caller doesn't want any for next/prev
                    if (type !== "all" && !(num > 0)) {
                        return dates;
                    }
                    // Start from the from date, or the start date if from is not set.
                    currentDate = (this.from || this.start).clone();
                    // Include the initial date in the results if wanting all dates
                    if (type === "all") {
                        if (this.matches(currentDate, false)) {
                            date = format ? currentDate.format(format) : currentDate.clone();
                            dates.push(date);
                        }
                    }
                    // Get the next N dates, if num is null then infinite
                    while (dates.length < (num === null ? dates.length + 1 : num)) {
                        if (type === "next" || type === "all") {
                            currentDate.add(1, "day");
                        } else {
                            currentDate.subtract(1, "day");
                        }
                        //console.log("Match: " + currentDate.format("L") + " - " + this.matches(currentDate, true));
                        // Don't match outside the date if generating all dates within start/end
                        if (this.matches(currentDate, (type === "all" ? false : true))) {
                            date = format ? currentDate.format(format) : currentDate.clone();
                            dates.push(date);
                        }
                        if (currentDate >= this.end) {
                            break;
                        }
                    }
                    return dates;
                }
                ///////////////////////
                // Private Functions //
                ///////////////////////
                // Private function to see if a date is within range of start/end
                function inRange(start, end, date) {
                    if (start && date.isBefore(start)) {
                        return false;
                    }
                    if (end && date.isAfter(end)) {
                        return false;
                    }
                    return true;
                }
                // Private function to turn units into objects
                function unitsToObject(units) {
                    var list = {};
                    if (Object.prototype.toString.call(units) == '[object Array]') {
                        units.forEach(function (v) {
                            list[v] = true;
                        });
                    } else if (units === Object(units)) {
                        list = units;
                    } else if ((Object.prototype.toString.call(units) == '[object Number]') || (Object.prototype
                            .toString.call(units) == '[object String]')) {
                        list[units] = true;
                    } else {
                        throw Error("Provide an array, object, string or number when passing units!");
                    }
                    return list;
                }
                // Private function to check if a date is an exception
                function isException(exceptions, date) {
                    for (var i = 0, len = exceptions.length; i < len; i++) {
                        if (moment(exceptions[i]).isSame(date)) {
                            return true;
                        }
                    }
                    return false;
                }
                // Private function to pluralize measure names for use with dictionaries.
                function pluralize(measure) {
                    switch (measure) {
                        case "day":
                            return "days";
                        case "week":
                            return "weeks";
                        case "month":
                            return "months";
                        case "year":
                            return "years";
                        case "dayOfWeek":
                            return "daysOfWeek";
                        case "dayOfMonth":
                            return "daysOfMonth";
                        case "weekOfMonth":
                            return "weeksOfMonth";
                        case "weekOfMonthByDay":
                            return "weeksOfMonthByDay";
                        case "weekOfYear":
                            return "weeksOfYear";
                        case "monthOfYear":
                            return "monthsOfYear";
                        default:
                            return measure;
                    }
                }
                // Private funtion to see if all rules match
                function matchAllRules(rules, date, start) {
                    var i, len, rule, type;
                    for (i = 0, len = rules.length; i < len; i++) {
                        rule = rules[i];
                        type = ruleTypes[rule.measure];
                        if (type === "interval") {
                            if (!Interval.match(rule.measure, rule.units, start, date)) {
                                return false;
                            }
                        } else if (type === "calendar") {
                            if (!Calendar.match(rule.measure, rule.units, date)) {
                                return false;
                            }
                        } else {
                            return false;
                        }
                    }
                    return true;
                }
                // Private function to create measure functions
                function createMeasure(measure) {
                    return function (units) {
                        this.every.call(this, units, measure);
                        return this;
                    };
                }
                //////////////////////
                // Public Functions //
                //////////////////////
                // Recur Object Constrcutor
                var Recur = function (options) {
                    if (options.start) {
                        this.start = moment(options.start).dateOnly();
                    }
                    if (options.end) {
                        this.end = moment(options.end).dateOnly();
                    }
                    // Our list of rules, all of which must match
                    this.rules = options.rules || [];
                    // Our list of exceptions. Match always fails on these dates.
                    var exceptions = options.exceptions || [];
                    this.exceptions = [];
                    for (var i = 0; i < exceptions.length; i++) {
                        this.except(exceptions[i]);
                    }
                    // Temporary units integer, array, or object. Does not get imported/exported.
                    this.units = null;
                    // Temporary measure type. Does not get imported/exported.
                    this.measure = null;
                    // Temporary from date for next/previous. Does not get imported/exported.
                    this.from = null;
                    return this;
                };
                // Get/Set start date
                Recur.prototype.startDate = function (date) {
                    if (date === null) {
                        this.start = null;
                        return this;
                    }
                    if (date) {
                        this.start = moment(date).dateOnly();
                        return this;
                    }
                    return this.start;
                };
                // Get/Set end date
                Recur.prototype.endDate = function (date) {
                    if (date === null) {
                        this.end = null;
                        return this;
                    }
                    if (date) {
                        this.end = moment(date).dateOnly();
                        return this;
                    }
                    return this.end;
                };
                // Get/Set a temporary from date
                Recur.prototype.fromDate = function (date) {
                    if (date === null) {
                        this.from = null;
                        return this;
                    }
                    if (date) {
                        this.from = moment(date).dateOnly();
                        return this;
                    }
                    return this.from;
                };
                // Export the settings, rules, and exceptions of this recurring date
                Recur.prototype.save = function () {
                    var data = {};
                    if (this.start && moment(this.start).isValid()) {
                        data.start = this.start.format("L");
                    }
                    if (this.end && moment(this.end).isValid()) {
                        data.end = this.end.format("L");
                    }
                    data.exceptions = [];
                    for (var i = 0, len = this.exceptions.length; i < len; i++) {
                        data.exceptions.push(this.exceptions[i].format("L"));
                    }
                    data.rules = this.rules;
                    return data;
                };
                // Return boolean value based on whether this date repeats (has rules or not)
                Recur.prototype.repeats = function () {
                    if (this.rules.length > 0) {
                        return true;
                    }
                    return false;
                };
                // Set the units and, optionally, the measure
                Recur.prototype.every = function (units, measure) {
                    if ((typeof units !== "undefined") && (units !== null)) {
                        this.units = unitsToObject(units);
                    }
                    if ((typeof measure !== "undefined") && (measure !== null)) {
                        this.measure = pluralize(measure);
                    }
                    return trigger.call(this);
                };
                // Creates an exception date to prevent matches, even if rules match
                Recur.prototype.except = function (date) {
                    date = moment(date).dateOnly();
                    this.exceptions.push(date);
                    return this;
                };
                // Forgets rules (by passing measure) and exceptions (by passing date)
                Recur.prototype.forget = function (dateOrRule) {
                    var i, len;
                    var whatMoment = moment(dateOrRule);
                    // If valid date, try to remove it from exceptions
                    if (whatMoment.isValid()) {
                        whatMoment = whatMoment.dateOnly(); // change to date only for perfect comparison
                        for (i = 0, len = this.exceptions.length; i < len; i++) {
                            if (whatMoment.isSame(this.exceptions[i])) {
                                this.exceptions.splice(i, 1);
                                return this;
                            }
                        }
                        return this;
                    }
                    // Otherwise, try to remove it from the rules
                    for (i = 0, len = this.rules.length; i < len; i++) {
                        if (this.rules[i].measure === pluralize(dateOrRule)) {
                            this.rules.splice(i, 1);
                        }
                    }
                };
                // Checks if a rule has been set on the chain
                Recur.prototype.hasRule = function (measure) {
                    var i, len;
                    for (i = 0, len = this.rules.length; i < len; i++) {
                        if (this.rules[i].measure === pluralize(measure)) {
                            return true;
                        }
                    }
                    return false;
                };
                // Attempts to match a date to the rules
                Recur.prototype.matches = function (dateToMatch, ignoreStartEnd) {
                    var date = moment(dateToMatch).dateOnly();
                    if (!date.isValid()) {
                        throw Error("Invalid date supplied to match method: " + dateToMatch);
                    }
                    if (!ignoreStartEnd && !inRange(this.start, this.end, date)) {
                        return false
                    }
                    if (isException(this.exceptions, date)) {
                        return false;
                    }
                    if (!matchAllRules(this.rules, date, this.start)) {
                        return false;
                    }
                    // if we passed everything above, then this date matches
                    return true;
                };
                // Get next N occurrences
                Recur.prototype.next = function (num, format) {
                    return getOccurrences.call(this, num, format, "next");
                };
                // Get previous N occurrences
                Recur.prototype.previous = function (num, format) {
                    return getOccurrences.call(this, num, format, "previous");
                };
                // Get all occurrences between start and end date
                Recur.prototype.all = function (format) {
                    return getOccurrences.call(this, null, format, "all");
                };
                // Create the measure functions (days(), months(), daysOfMonth(), monthsOfYear(), etc.)
                for (var measure in measures) {
                    if (ruleTypes.hasOwnProperty(measure)) {
                        Recur.prototype[measure] = Recur.prototype[measures[measure]] = createMeasure(
                            measure);
                    }
                }
                return Recur;
            }());
            // Recur can be created the following ways:
            // moment.recur()
            // moment.recur(options)
            // moment.recur(start)
            // moment.recur(start, end)
            moment.recur = function (start, end) {
                // If we have an object, use it as a set of options
                if (start === Object(start) && !moment.isMoment(start)) {
                    return new Recur(start);
                }
                // else, use the values passed
                return new Recur({
                    start: start,
                    end: end
                });
            };
            // Recur can also be created the following ways:
            // moment().recur()
            // moment().recur(options)
            // moment().recur(start, end)
            // moment(start).recur(end)
            // moment().recur(end)
            moment.fn.recur = function (start, end) {
                // If we have an object, use it as a set of options
                if (start === Object(start) && !moment.isMoment(start)) {
                    // if we have no start date, use the moment
                    if (typeof start.start === 'undefined') {
                        start.start = this;
                    }
                    return new Recur(start);
                }
                // if there is no end value, use the start value as the end
                if (!end) {
                    end = start;
                    start = undefined;
                }
                // use the moment for the start value
                if (!start) {
                    start = this;
                }
                return new Recur({
                    start: start,
                    end: end,
                    moment: this
                });
            };
            // Plugin for calculating the week of the month of a date
            moment.fn.monthWeek = function () {
                // First day of the first week of the month
                var week0 = this.clone().startOf("month").startOf("week");
                // First day of week
                var day0 = this.clone().startOf("week");
                return day0.diff(week0, "weeks");
            };
            // Plugin for calculating the occurrence of the day of the week in the month.
            // Similar to `moment().monthWeek()`, the return value is zero-indexed.
            // A return value of 2 means the date is the 3rd occurence of that day
            // of the week in the month.
            moment.fn.monthWeekByDay = function (date) {
                return Math.floor((this.date() - 1) / 7);
            };
            // Plugin for removing all time information from a given date
            moment.fn.dateOnly = function () {
                if (this.tz && typeof (moment.tz) == 'function') {
                    return moment.tz(this.format('YYYY-MM-DD[T]00:00:00Z'), 'UTC');
                } else {
                    return this.hours(0).minutes(0).seconds(0).milliseconds(0).add(this.utcOffset(),
                        "minute").utcOffset(
                        0);
                }
            };
            return moment;
        }));
    </script>
    <script type="text/javascript">
        $("#siteLinks .slm-dragdrop-source .link-item a").addClass(
            "list-group-item siteLinks-item");
        $("#siteLinks .item a").addClass("list-group-item siteLinks-item");
        // Hides Empty Resources
        $('#siteLinks').each(function () {
            var $this = $(this);
            //find element with '.siteLinks-item' class if none then hide
            var hasResources = $this.find('.siteLinks-item').length > 0;
            if (!hasResources) {
                $this.hide();
            }
        });

        var images = [
            "hero1.jpg",
            "hero2.jpg",
            "hero3.jpg",
            "hero4.jpg",
            "hero5.jpg",
            "hero6.jpg",
            "hero7.jpg",
            "hero8.jpg",
            "hero9.jpg",
        ];
        $("#agencyInfo").css({
            "background": "linear-gradient(0deg,rgba(233, 236, 239, 0.51),#f8f9fa),url(/Style%20Library/V6/img/HomeHero/" +
                images[Math.floor(Math.random() * images.length)] +
                ") no-repeat bottom center",
            "background-size": "cover"
        });
        $("#fullPageContent h1").each(function () {
            var $this = $(this);
            $this.html($this.html().replace(/&nbsp;/g, ''));
        });
    </script>

    <!-- directory item webpart -->
    <script type="text/javascript">
        // spservices
        /* Dynamically Load Item */
        URL = location.href.toLowerCase();
        newID = URL.split('=')[1].replace("#", "");

        gallery = [];

        lt = '';
        lg = '';

        $(document).ready(function () {

            newData2 = $().SPServices.SPGetListItemsJson({
                webURL: "/Parks/",
                listName: "Parks",
                viewName: "",
                CAMLQuery: "<Query><Where><Eq><FieldRef Name='ID'/><Value Type='Text'>" +
                    newID + "</Value></Eq></Where></Query>",
                CAMLViewFields: "",
                CAMLRowLimit: "",
                CAMLQueryOptions: "",
                changeToken: "",
                contains: "",
                mapping: {
                    ows_ID: {
                        mappedName: "ID",
                        objectType: "Text"
                    },
                    ows_Title: {
                        mappedName: "Title",
                        objectType: "Text"
                    },
                    ows_Address: {
                        mappedName: "Address",
                        objectType: "Text"
                    },
                    ows_Zip: {
                        mappedName: "Zip",
                        objectType: "Text"
                    },
                    ows_City: {
                        mappedName: "City",
                        objectType: "Lookup"
                    },
                    ows_Acreage: {
                        mappedName: "Acreage",
                        objectType: "Text"
                    },
                    ows_Overview: {
                        mappedName: "Overview",
                        objectType: "Text"
                    },
                    ows_Phone: {
                        mappedName: "Phone",
                        objectType: "Text"
                    },
                    ows_Email: {
                        mappedName: "Email",
                        objectType: "Text"
                    },
                    ows_Latitude: {
                        mappedName: "Latitude",
                        objectType: "Text"
                    },
                    ows_Longitude: {
                        mappedName: "Longitude",
                        objectType: "Text"
                    },
                    ows_Features: {
                        mappedName: "Features",
                        objectType: "LookupMulti"
                    },
                    ows_Friends_x002d_Group: {
                        mappedName: "Friends-Group",
                        objectType: "Boolean"
                    },
                    ows_Park_x002d_Type: {
                        mappedName: "ParkType",
                        objectType: "Lookup"
                    },
                    ows_Monday: {
                        mappedName: "Monday",
                        objectType: "Text"
                    },
                    ows_Tuesday: {
                        mappedName: "Tuesday",
                        objectType: "Text"
                    },
                    ows_Wednesday: {
                        mappedName: "Wednesday",
                        objectType: "Text"
                    },
                    ows_Thursday: {
                        mappedName: "Thursday",
                        objectType: "Text"
                    },
                    ows_Friday: {
                        mappedName: "Friday",
                        objectType: "Text"
                    },
                    ows_Saturday: {
                        mappedName: "Saturday",
                        objectType: "Text"
                    },
                    ows_Sunday: {
                        mappedName: "Sunday",
                        objectType: "Text"
                    },
                    ows_OfficeHours: {
                        mappedName: "OfficeHours",
                        objectType: "Text"
                    },
                    ows_Rentals: {
                        mappedName: "Rentals",
                        objectType: "LookupMulti"
                    },
                    ows_Webtrac: {
                        mappedName: "Webtrac",
                        objectType: "Text"
                    },
                    ows_CampLink: {
                        mappedName: "CampLink",
                        objectType: "URL"
                    },
                    ows_PetFriendly: {
                        mappedName: "PetFriendly",
                        objectType: "Boolean"
                    },
                    ows_GateFee: {
                        mappedName: "GateFee",
                        objectType: "Boolean"
                    }

                }, // name, mappedName, objectType,
                mappingOverrides: null,
                debug: false
            })

            // build page elements from data

            f1 = $.when(newData2).done(function () {
                dirInfo2 = this.data[0];

                // build title & description
                if (dirInfo2.Title) {
                    $('#dir-title').html(dirInfo2.Title);
                    $('.layoutCrumb').html(dirInfo2.Title);
                }
                /*$('#dir-subtitle').html(dirInfo2.Artist.lookupValue);*/
                if (dirInfo2.Overview) {
                    $('#dir-description').html(dirInfo2.Overview).removeClass(
                        'd-none');
                    $('#dir-description-title').removeClass('d-none').addClass(
                        'd-block mt-3');
                }
                // add links to & show buttons if there's a link in list, if not don't show
                // rentals
                if (dirInfo2.Webtrac) {
                    $('#reserve').attr('href',
                            'https://webtrac.broward.org/wbwsc/webtrac.wsc/wbsearch.html?xxmod=FR&xxfacilitylocation=' +
                            dirInfo2.Webtrac)
                        .removeClass('d-none');
                }
                // campsites
                if (dirInfo2.CampLink) {
                    $('#camp').attr('href', dirInfo2.CampLink.split(',')[0]).removeClass('d-none');
                }
                if (dirInfo2.PetFriendly === true) {
                    $('#pet').html('Yes')
                } else if (dirInfo2.PetFriendly === false) {
                    $('#pet').html('No')
                }
                if (dirInfo2.GateFee === true) {
                    if (window.location.search.split('=')[1].toString() == '19') {
                        $('#fee').prev().html('Parking Fees (per vehicle)')
                        $('#fee').html(
                            'All day - $10<br/>After 2PM - $6<br>July 4 - $20<br/>Special events - $15'
                        )
                    } else {
                        $('#fee').html('$1.50/person weekends and holidays (children 5 and under free)')
                    }
                }
                //$.each(dirInfo2.Features, function(i) {
                // split features into 2 arrays
                // first array
                var arr1 = dirInfo2.Features.slice(0, Math.ceil(dirInfo2.Features.length / 2));
                // second array
                var arr2 = dirInfo2.Features.slice((Math.ceil(dirInfo2.Features.length / 2)), dirInfo2.Features
                    .length);
                // put stuff in first column
                $.each(arr1, function (i) {
                    $('#dir-statement.features-1').append(
                        '<li><i class="fal fa-check" color="green"></i> ' + arr1[i].lookupValue +
                        '</li>');
                })
                // put stuff in second column
                $.each(arr2, function (i) {
                    $('#dir-statement.features-2').append(
                        '<li><i class="fal fa-check" color="green"></i> ' + arr2[i].lookupValue +
                        '</li>');
                })

                $('#dir-statement.features').removeClass('d-none');
                $('#dir-statement-title.features').removeClass('d-none').addClass('d-block mt-3');

                $('li#monday.hours').html(dirInfo2.Monday);
                $('li#tuesday.hours').html(dirInfo2.Tuesday);
                $('li#wednesday.hours').html(dirInfo2.Wednesday);
                $('li#thursday.hours').html(dirInfo2.Thursday);
                $('li#friday.hours').html(dirInfo2.Friday);
                $('li#saturday.hours').html(dirInfo2.Saturday);
                $('li#sunday.hours').html(dirInfo2.Sunday);
                $('li#office.hours').html(dirInfo2.OfficeHours);

                d = new Date();
                today = d.getDay();

                switch (today) {
                    case 0:
                        $('li#sunday').addClass('today');
                        break;
                    case 1:
                        $('li#monday').addClass('today');
                        break;
                    case 2:
                        $('li#tuesday').addClass('today');
                        break;
                    case 3:
                        $('li#wednesday').addClass('today');
                        break;
                    case 4:
                        $('li#thursday').addClass('today');
                        break;
                    case 5:
                        $('li#friday').addClass('today');
                        break;
                    case 6:
                        $('li#saturday').addClass('today');
                        break;
                    default: // do nothing
                        break;
                }

                // build location info


                var gMapInfo = 'https://maps.google.com/?q=' + dirInfo2.Address + dirInfo2.City.lookupValue +
                    ', FL ' + dirInfo2.Zip;

                var gMapLink = gMapInfo.split('undefined').join('')
                    .split(' ').join('+').split(
                        '++').join('+').toLowerCase();

                $('#dir-address1, #dir-address2, #dir-csz').wrap(
                    '<a href="' + gMapLink +
                    '" target="_blank"></a>');

                if (dirInfo2.Address && dirInfo2.City.lookupValue &&
                    dirInfo2.Zip) {
                    $('#dir-address1').html(dirInfo2.Address);
                    $('#dir-csz').html(dirInfo2.City.lookupValue +
                        ", FL " +
                        dirInfo2.Zip);
                }
                if (dirInfo2.Phone) {
                    $('#phoneNumber').html(dirInfo2.Phone);
                }
                if (dirInfo2.Email) {
                    $('#emailAddress').html(dirInfo2.Email.split(':')[1]).wrapInner('<a href="' +
                        dirInfo2.Email + '"></a>')
                }
                if (dirInfo2.Acreage) {
                    $('#acreage').html(dirInfo2.Acreage)
                }

                lt = dirInfo2.Latitude;
                lg = dirInfo2.Longitude;
                initMap();

                $('#directoryItem').removeClass('d-none');

                if (dirInfo2.Rentals) {
                    console.log(dirInfo2.Rentals);
                }
            });

            $.when(f1).done(function () {
                // Lightbox
                $().SPServices({
                    operation: "GetListItems",
                    listName: "ParksImages",
                    webURL: "/Parks/",
                    CAMLViewFields: "<ViewFields><FieldRef Name='RequiredField' /><FieldRef Name='Title' /><FieldRef Name='Park' /></ViewFields>",
                    completefunc: function (xData, Status) {
                        f2 = $(xData.responseXML).SPFilterNode("z:row").each(function (i) {
                            tilePicture = $(this).attr("ows_RequiredField");
                            linkTitle = $(this).attr("ows_Title");
                            park = $(this).attr("ows_Park") ? $(this).attr(
                                    "ows_Park").split(";#")[0].toString() :
                                false;
                            // if picture is from this park, append to carousel
                            if (park == dirInfo2.ID) {
                                // build flickity slider
                                $('.parkCarousel').append(
                                    '<img class="carousel-cell" src="/' +
                                    tilePicture + '" alt="' + linkTitle + '"/>'
                                );

                            }
                        });

                        $.when(f2).done(function () {
                            if ($('.carousel-cell').length > 4) {
                                flick = $('.parkCarousel').flickity({
                                    // options
                                    imagesLoaded: true,
                                    cellAlign: 'left',
                                    wrapAround: true,
                                    prevNextButtons: false,
                                    pageDots: false,
                                    autoPlay: true
                                })
                            }
                            return;
                        })
                        // only show flickity if enough pictures (4 or 5)
                        if ($('.carousel-cell').length > 4) {
                            $('.parkCarousel').removeClass('d-none');
                            flick.flickity('resize');
                        }
                    }
                })
            })
        });
    </script>
    <script>
        URL = location.href.toLowerCase();
        newID = URL.split('=')[1].replace("#", "");

        $(document).ready(function () {

            newData3 = $().SPServices.SPGetListItemsJson({
                webURL: "/Parks/",
                listName: "Parks",
                viewName: "",
                CAMLQuery: "<Query><Where><Eq><FieldRef Name='ID' /><Value Type='Text'>" + newID +
                    "</Value></Eq></Where></Query>",
                CAMLViewFields: "",
                CAMLRowLimit: "",
                CAMLQueryOptions: "",
                changeToken: "",
                contains: "",
                mapping: {
                    ows_ID: {
                        mappedName: "ID",
                        objectType: "Text"
                    },
                    ows_Alert: {
                        mappedName: "Alert",
                        objectType: "Text"
                    },
                }, // name, mappedName, objectType,
                mappingOverrides: null,
                debug: false
            })

            // build page elements from data
            $.when(newData3).done(function () {

                dirInfo3 = this.data[0];

                //console.log(dirInfo3)
                // build title & description
                if (dirInfo3.Alert) {
                    $('#alertText').html(dirInfo3.Alert);
                    $('#alert-row').removeClass('d-none')
                    $('.alert').alert()
                }
            })
        });
    </script>
    <!-- Init map -->
    <script defer type="text/javascript" src="/Style%20Library/V6/js/broward/Parks/parksMap.js"></script>
    <!-- Google Maps -->
    <script defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAVF9fnqaUvGIJY-HmXtOCpWV5Yu798fXQ"></script>
    <!-- Tabbed Datatable -->
    <script type="text/javascript">
        $(document).ready(function () {
            eventResults = $().SPServices.SPGetListItemsJson({
                webURL: "/Parks/",
                listName: "Events",
                viewName: "",
                CAMLQuery: "",
                CAMLViewFields: "",
                CAMLRowLimit: "",
                CAMLQueryOptions: "",
                changeToken: "",
                contains: "",
                mapping: {
                    ows_ID: {
                        mappedName: "ID",
                        objectType: "Text"
                    },
                    ows_Title: {
                        mappedName: "Title",
                        objectType: "Text"
                    },
                    ows_Date: {
                        mappedName: "Date",
                        objectType: "DateTime"
                    },
                    ows_EndDate: {
                        mappedName: "EndDate",
                        objectType: "DateTime"
                    },
                    ows_Park: {
                        mappedName: "Park",
                        objectType: "Lookup"
                    },
                    ows_Link: {
                        mappedName: "Link",
                        objectType: "URL"
                    },
                    ows_Description: {
                        mappedName: "Description",
                        objectType: "Text"
                    },
                    ows_Phone: {
                        mappedName: "Phone",
                        objectType: "Text"
                    },
                    ows_Email: {
                        mappedName: "Email",
                        objectType: "URL"
                    },
                    ows_Recurring: {
                        mappedName: "Recurring",
                        objectType: "LookupMulti"
                    }
                },
                mappingOverrides: null,
                debug: false
            });
            $.when(eventResults).done(function () {

                //if this park has events
                if (window.location.search.split('=')[1].toString() !== ('2' || '11' || '21' || '33' ||
                        '35' || '42')) {

                    //Header & Footer Titles
                    var thisEventResults = this.data;

                    //console.log(thisEventResults)

                    resultTitles = this.data[0];
                    resultKeys = Object.keys(resultTitles);

                    // for (i = 0; i < 2; i++) {
                    //     rTitles = resultKeys[i];
                    // }

                    $('#eventHeader').append('<tr><th>Upcoming Events</th><th>Date</th></tr>');

                    // if no events, append empty cells
                    // if ($('tbody#eventItems').children().length == 0) {
                    //     //console.log('empty table but about to append some cells')
                    //     $('#eventItems').append($('<tr><td></td><td></td></tr>'))
                    // }

                    //Main Data
                    $.each(thisEventResults, function (ind, eventItems) {

                        var createRow = function () {
                            //console.log(date)
                            $('#eventItems')
                                .append($('<tr>')
                                    .append($(
                                        '<td><a id="dirListTitleLink" href="../Pages/Event.aspx?=' +
                                        thisEventResults[ind].ID + '"><strong>' +
                                        thisEventResults[ind].Title + '</strong>'))
                                    .append($('<td>' + date + '</td>'))
                                );
                        }
                        //check if date is upcoming or past
                        //console.log(ind, thisEventResults, resultTitles);
                        //console.log(ind, thisEventResults[ind].Park.lookupId)
                        //console.log('are there events here? ' + $('#eventItems').children().length)

                        var today = new Date();
                        today.setHours(0, 0, 0, 0);

                        if (((thisEventResults[ind].Date >= today) || (thisEventResults[ind].Recurring)) &&
                            ((thisEventResults[ind].EndDate >=
                                today) || (thisEventResults[ind].EndDate == undefined)) && (
                                thisEventResults[ind].Park.lookupId == window.location.search.split(
                                    '=')[1].toString())) {

                            //console.log(thisEventResults[ind])

                            if (!thisEventResults[ind].Recurring) {
                                var date = moment(thisEventResults[ind].Date).format('LL');
                                createRow();
                            }

                            if (thisEventResults[ind].Recurring) {
                                // if date, add date
                                //console.log(thisEventResults[ind].Recurring)
                                for (j = 0; j < thisEventResults[ind].Recurring.length; j++) {

                                    //console.log(thisEventResults[ind].Recurring[j].lookupValue)

                                    if (thisEventResults[ind].EndDate >= today || !thisEventResults[ind].EndDate) {

                                        var whatDays = [];
                                        var whatWeeks = [];

                                        // if (thisEventResults[ind].Recurring[j].lookupValue == 'By Reservation') {
                                        //     whatDays.push('Reservation');
                                        // }

                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Monday') {
                                            whatDays.push('Monday');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every First Monday') {
                                            whatDays.push('Monday');
                                            whatWeeks.push('0');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Second Monday') {
                                            whatDays.push('Monday');
                                            whatWeeks.push('1');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Third Monday') {
                                            whatDays.push('Monday');
                                            whatWeeks.push('2');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Fourth Monday') {
                                            whatDays.push('Monday');
                                            whatWeeks.push('3');
                                        }
                                        // if ('Every Last Monday'){
                                        //     whatDays.push('Monday');
                                        //     whatWeeks.push('0');
                                        // }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Tuesday') {
                                            whatDays.push('Tuesday');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every First Tuesday') {
                                            whatDays.push('Tuesday');
                                            whatWeeks.push('0');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Second Tuesday') {
                                            whatDays.push('Tuesday');
                                            whatWeeks.push('1');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Third Tuesday') {
                                            whatDays.push('Tuesday');
                                            whatWeeks.push('2');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Fourth Tuesday') {
                                            whatDays.push('Tuesday');
                                            whatWeeks.push('3');
                                        }
                                        // if ('Every Last Tuesday'){
                                        //     whatDays.push('Tuesday');
                                        //     whatWeeks.push('3');
                                        // }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Wednesday') {
                                            whatDays.push('Wednesday');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every First Wednesday') {
                                            whatDays.push('Wednesday');
                                            whatWeeks.push('0');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Second Wednesday') {
                                            whatDays.push('Wednesday');
                                            whatWeeks.push('1');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Third Wednesday') {
                                            whatDays.push('Wednesday');
                                            whatWeeks.push('2');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Fourth Wednesday') {
                                            whatDays.push('Wednesday');
                                            whatWeeks.push('3');
                                        }
                                        // if ('Every Last Wednesday'){
                                        //     whatDays.push('Tuesday');
                                        //     whatWeeks.push('3');
                                        // }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Thursday') {
                                            whatDays.push('Thursday');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every First Thursday') {
                                            whatDays.push('Thursday');
                                            whatWeeks.push('1');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Second Thursday') {
                                            whatDays.push('Thursday');
                                            whatWeeks.push('2');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Third Thursday') {
                                            whatDays.push('Thursday');
                                            whatWeeks.push('3');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Fourth Thursday') {
                                            whatDays.push('Thursday');
                                            whatWeeks.push('3');
                                        }
                                        // if ('Every Last Thursday'){
                                        //     whatDays.push('Tuesday');
                                        //     whatWeeks.push('3');
                                        // }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Friday') {
                                            whatDays.push('Friday');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every First Friday') {
                                            whatDays.push('Friday');
                                            whatWeeks.push('0');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Second Friday') {
                                            whatDays.push('Friday');
                                            whatWeeks.push('1');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Third Friday') {
                                            whatDays.push('Friday');
                                            whatWeeks.push('2');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Fourth Friday') {
                                            whatDays.push('Friday');
                                            whatWeeks.push('3');
                                        }
                                        // if ('Every Last Friday'){
                                        //     whatDays.push('Friday');
                                        //     whatWeeks.push('3');
                                        // }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Saturday') {
                                            whatDays.push('Saturday');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every First Saturday') {
                                            whatDays.push('Saturday');
                                            whatWeeks.push('0');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Second Saturday') {
                                            whatDays.push('Saturday');
                                            whatWeeks.push('1');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Third Saturday') {
                                            whatDays.push('Saturday');
                                            whatWeeks.push('2');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Fourth Saturday') {
                                            whatDays.push('Saturday');
                                            whatWeeks.push('3');
                                        }
                                        // if ('Every Last Saturday'){
                                        //     whatDays.push('Saturday');
                                        //     whatWeeks.push('3');
                                        // }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Sunday') {
                                            whatDays.push('Sunday');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every First Sunday') {
                                            whatDays.push('Sunday');
                                            whatWeeks.push('0');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Second Sunday') {
                                            whatDays.push('Sunday');
                                            whatWeeks.push('1');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Third Sunday') {
                                            whatDays.push('Sunday');
                                            whatWeeks.push('2');
                                        }
                                        if (thisEventResults[ind].Recurring[j].lookupValue ==
                                            'Every Fourth Sunday') {
                                            whatDays.push('Sunday');
                                            whatWeeks.push('3');
                                        }
                                        // if ('Every Last Sunday'){
                                        //     whatDays.push('Sunday');
                                        //     whatWeeks.push('3');
                                        // }
                                        // if (thisEventResults[ind].Recurring[j].lookupValue == 'Everyday') {
                                        //     whatDays.push('');
                                        //     whatWeeks.push('');
                                        // }

                                        //console.log(whatDays)
                                        //console.log(whatWeeks)

                                        var startDate = thisEventResults[ind].Date;
                                        var endDate = thisEventResults[ind].EndDate;
                                        var upcoming; //moment(startDate).recur().every('monday').daysOfWeek();

                                        //console.log(endDate.toString().length)

                                        // if length of recurring week array is greater than 0, add weeks
                                        if (startDate >= today) {
                                            if (whatDays.length > 0 && whatWeeks.length < 1 && endDate != undefined) {
                                                var upcoming = moment(startDate).recur(endDate ? endDate : false).every(whatDays).daysOfWeek();
                                                upcoming.fromDate(startDate);
                                                upcoming.endDate(endDate);
                                                allDates = upcoming.all('LL')
                                                console.log(allDates)
                                            }

                                            // if length of recurring is 0, build recur
                                            if (whatDays.length > 0 && whatWeeks.length > 0 && endDate != undefined) {
                                                var upcoming = moment(startDate).recur(endDate ? endDate : false).every(whatDays).daysOfWeek().every(moment(whatWeeks).monthWeekByDay()).weeksOfMonthByDay();
                                                upcoming.fromDate(startDate);
                                                upcoming.endDate(endDate);
                                                console.log(upcoming.all('LL'))
                                            }
                                        }
                                        if (startDate < today) {
                                            if (whatDays.length > 0 && whatWeeks.length < 1) {
                                                var upcoming = moment(today).recur().every(
                                                    whatDays).daysOfWeek();
                                                // console.log('whatDays: ' + whatDays)
                                            }

                                            // if length of recurring is 0, build recur
                                            if (whatDays.length > 0 && whatWeeks.length > 0) {
                                                var upcoming = moment(today).recur().every(
                                                        whatDays).daysOfWeek().every(whatWeeks)
                                                    .weeksOfMonthByDay();
                                                // console.log('whatDays: ' + whatDays)
                                                // console.log('whatWeeks: ' + whatWeeks)
                                            }
                                        }
                                        //by reservation temporary fix
                                        // if (whatDays == 'Reservation') {
                                        //     var upcoming =
                                        // }
                                        // if (endDate.toString().length < 1) {
                                        //     var upcomingDates = upcoming.next(10, 'LL');
                                        //     console.log('u1: ' + upcomingDates)
                                        // }
                                        // if (endDate.toString().length > 0) {
                                        //     var upcomingDates = upcoming.all('LL');
                                        //     console.log('u2: ' + upcomingDates)
                                        // }

                                        var upcomingDates = upcoming.next(10, 'LL');

                                        for (k = 0; k < upcomingDates.length; k++) {
                                            var date = upcomingDates[k];
                                            console.log(upcomingDates[k]);
                                            console.log('recurring append')
                                            createRow();
                                        }
                                    }
                                }
                            }

                            //console.log('append ran')
                        }
                        // if (thisEventResults[ind].Park.lookupId != window.location.search.split(
                        //         '=')[1].toString()) {
                        //     $('#eventItems').append($('<tr><td><td>'))
                        // }
                    });

                    $.fn.dataTable.moment('LL', 'en');
                    $('#eventTable').DataTable({
                        "order": [
                            [1, 'asc']
                        ],
                        "columns": [null,
                            null,
                        ],
                        "showNEntries": false,
                        "bInfo": false,
                        "bPaginate": false,
                        "bFilter": false,
                        "language": {
                            "emptyTable": "No events scheduled at this time."
                        }
                    });

                    $('.dataTables_wrapper').find('label').each(
                        function () {
                            $(this).parent().append($(
                                this).children());
                        });
                    $('.dataTables_filter').find('input').each(
                        function () {
                            $('#dirTable_filter input').attr(
                                "placeholder",
                                "Search");
                            $('#dirTable_filter input').removeClass(
                                'form-control-sm');
                        });
                    $('.dataTables_length').addClass(
                        'd-flex flex-row');
                    $('.dataTables_filter').addClass(
                        'md-form');
                    $('select').addClass('mdb-select');
                    $('.mdb-select')
                        .material_select();
                    $('.mdb-select').removeClass(
                        'form-control form-control-sm custom-select custom-select-sm'
                    );
                    $('.dataTables_filter').find('label').remove();
                }
                return;
            });
            webpartMove = $("#webpartContent")
            webpartMove.detach();
            webpartMove.appendTo("#fullPageContent");
        });
    </script>
</body>

</html>