<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml" xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882">

<head>
    <script type="text/javascript" src="/Style%20Library/V6/js/vendor/mdb/jquery-3.2.1.min.js"></script>
    <style>
        h1,
        h3,
        h5 {
            font-family: Arquette;
            color: black;
            font-weight: 700;
        }

        .byLetter {
            overflow-x: scroll;
            white-space: nowrap;
        }

        .byLetter a {
            display: inline-block;
            text-align: center;
            padding: 14px;
            text-decoration: none;
        }

        #description h1 {
            font-weight: 700;
        }
        /*
        #dir-description {
            white-space: pre-wrap;
        }*/

        #dir-statement {
            white-space: pre-wrap;
        }

        h2#dir-artist {
            font-size: 1.35rem;
            font-weight: 400;
            /*color: #0277BD;*/
        }

        span#dir-year {
            margin-right: 20px;
        }

        img#dir-img.contactImg {
            width: 100%;
            border-radius: 2px;
        }

        .contactInfoButton {
            text-align: center;
            border: 1px solid #eaeaea;
            background-color: #eaeaea;
            display: block;
            border-radius: 2px;
        }

        #addressInfo ul {
            padding: 0;
        }

        #addressInfo ul li {
            list-style: none;
        }

        .tags {
            padding: 4px 10px;
            background-color: #f4f4f4;
            border-radius: 2px;
            margin: 4px;
            display: inline-block;
        }

        #mapid {
            height: 150px;
            width: 100%;
            border-radius: 2px;
        }

        #backToDir a::before {
            content: "\f104";
            padding-right: 10px;
            margin-bottom: -5px;
            font-family: 'FontAwesomeSolid';
            font-size: 1rem;
            top: 1px;
            position: relative;
        }

        #infoTabs {
            border-radius: 6px;
            padding-top: 5px;
            background-color: #f5f5f5;
        }

        #infoTabs li {
            width: 120px;
            text-align: center;
        }

        #Attractions-tab.active, #Events-tab.active, #Rentals-tab.active {
            background-color: #fff;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
            border-radius: 6px;
        }

        .today {
            font-weight: 600;
            color: #00c853;
        }
        div#directoryItem {
            font-family: Arquette;
            font-size: 1.1rem;
            line-height: 1.2;
        }

    </style>
</head>

<body>

    <!-- Directory Web Part - Item View -->
    <div id="directoryItem" class="container py-3 d-none">

        <div class="row">
            <div class="col-md-8 px-3">
                <section id="description" class="mb-3">
                    <h1 id="dir-title">&para;</h1>
                    <strong id="dir-description-title" class="d-none">
                        Description</strong>
                    <p id="dir-description" class="d-none">&para;</p>
                        <a id="register" class="btn btn-outline light-blue darken-1 waves-effect py-2 my-3 d-none" target="_blank">Register</a>
                        <a id="more" class="btn btn-outline light-blue darken-1 waves-effect py-2 my-3 d-none" target="_blank">More Info</a>
                    <ul id="dir-statement" class="mt-2" style="list-style: none; padding-inline-start: 0px;"></ul>
                </section>
                <section id="dir-tags" class="mb-4">
                </section>
            </div>
            <div id="dir-map" class="col-lg-3">

                <div id="addressInfo" class="mt-3">
                    <ul>
                        <li>
                            <strong>Date</strong>
                            <p id="date">Date</p>
                        </li>
                        <li>
                            <strong>Time</strong>
                            <p id="time">Time</p>
                        </li>
                        <li>
                            <strong>Park</strong>
                            <p id="park">Park</p>

                        </li>
                        <li>
                            <strong>Fee</strong>
                            <p id="fee">Fee</p>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!--Moment.js for neat date writing-->
    <script type="text/javascript" src="/Style%20Library/Haylee-Dev/js/broward/Library/moment.min.js"></script>
    <!--Page layout Inline Scripts-->
    <script type="text/javascript">
        $("#siteLinks .slm-dragdrop-source .link-item a").addClass(
            "list-group-item siteLinks-item");
        $("#siteLinks .item a").addClass("list-group-item siteLinks-item");
        // Hides Empty Resources
        $('#siteLinks').each(function () {
            var $this = $(this);
            //find element with '.siteLinks-item' class if none then hide
            var hasResources = $this.find('.siteLinks-item').length > 0;
            if (!hasResources) {
                $this.hide();
            }
        });

        var images = [
            "hero1.jpg",
            "hero2.jpg",
            "hero3.jpg",
            "hero4.jpg",
            "hero5.jpg",
            "hero6.jpg",
            "hero7.jpg",
            "hero8.jpg",
            "hero9.jpg",
        ];
        $("#agencyInfo").css({
            "background": "linear-gradient(0deg,rgba(233, 236, 239, 0.51),#f8f9fa),url(/Style%20Library/V6/img/HomeHero/" +
                images[Math.floor(Math.random() * images.length)] +
                ") no-repeat bottom center",
            "background-size": "cover"
        });
        $("#fullPageContent h1").each(function () {
            var $this = $(this);
            $this.html($this.html().replace(/&nbsp;/g, ''));
        });
    </script>

    <!-- directory item webpart -->
    <script type="text/javascript">
        // spservices
        /* Dynamically Load Item */
        URL = location.href.toLowerCase();
        newID = URL.split('=')[1].replace("#", "");

        gallery = [];

        lt = '';
        lg = '';

        $(document).ready(function () {

            newData2 = $().SPServices.SPGetListItemsJson({
                webURL: "/Parks",
                listName: "Events",
                viewName: "",
                CAMLQuery: "<Query><Where><Eq><FieldRef Name='ID'/><Value Type='Text'>" +
                    newID + "</Value></Eq></Where></Query>",
                CAMLViewFields: "",
                CAMLRowLimit: "",
                CAMLQueryOptions: "",
                changeToken: "",
                contains: "",
                mapping: {
                    ows_ID: {
                        mappedName: "ID",
                        objectType: "Text"
                    },
                    ows_Title: {
                        mappedName: "Title",
                        objectType: "Text"
                    },
                    ows_Date: {
                        mappedName: "StartDate",
                        objectType: "DateTime"
                    },
                    ows_Recurring: {
                        mappedName: "Recurring",
                        objectType: "LookupMulti"
                    },
                    ows_Park: {
                        mappedName: "Park",
                        objectType: "Lookup"
                    },
                    ows_Time: {
                        mappedName: "Time",
                        objectType: "Text"
                    },
                    ows_Price: {
                        mappedName: "Price",
                        objectType: "Text"
                    },
                    ows_Description: {
                        mappedName: "Description",
                        objectType: "Text"
                    },
                    ows_Link: {
                        mappedName: "Link",
                        objectType: "URL"
                    },
                    ows_MoreInfo: {
                        mappedName: "Info",
                        objectType: "URL"
                    }
                }, // name, mappedName, objectType,
                mappingOverrides: null,
                debug: false
            })

            // build page elements from data

            f1 = $.when(newData2).done(function () {
                dirInfo2 = this.data[0];
                var recurringDates = [];

                // build title & description
                if (dirInfo2.Title) {
                    $('#dir-title').html(dirInfo2.Title);
                }
                /*$('#dir-subtitle').html(dirInfo2.Artist.lookupValue);*/
                if (dirInfo2.Description) {
                    $('#dir-description').html(dirInfo2.Description).removeClass(
                        'd-none');
                    $('#dir-description-title').removeClass('d-none').addClass(
                        'd-block mt-3');
                }
                //console.log(dirInfo2.Link)
                if (dirInfo2.Link != undefined) {
                    var link = dirInfo2.Link;
                    $('#dir-statement-title').wrap('<a href="' + link.split(',')[0] +
                        '" target="_blank"></a>');
                    $('#dir-statement-title').removeClass('d-none').addClass('d-block mt-3');
                }
                if (dirInfo2.Link) {
                    $('#register').attr('href', dirInfo2.Link.split(',')[0]).removeClass('d-none');
                }
                if (dirInfo2.Info) {
                    $('#more').attr('href', dirInfo2.Info.split(',')[0]).removeClass('d-none');
                }
                //if (dirInfo2.Link == undefined) { $('#dir-statement-title').removeClass('d-block').addClass('d-none'); }
                if (!dirInfo2.Recurring) {
                    var date = moment(dirInfo2.StartDate).format('LL');
                }
                // if date, add date
                if (dirInfo2.Recurring) {
                    console.log(dirInfo2.Recurring)
                    for (i = 0; i < dirInfo2.Recurring.length; i++) {
                        recurringDates.push(dirInfo2.Recurring[i].lookupValue);
                        var date = recurringDates.join('<br />');
                        console.log(date)
                    }
                }
                $('#date').html(date);
                $('#time').html(dirInfo2.Time);
                $('#park').html(dirInfo2.Park.lookupValue).wrap('<a href="/Parks/Pages/Park.aspx?=' +
                    dirInfo2.Park.lookupId + '"></a>');
                $('#fee').html(dirInfo2.Price);
                $('#dir-statement').removeClass('d-none');
                $('#directoryItem').removeClass('d-none');
            })
            webpartMove = $("#directoryItem")
            webpartMove.detach();
            webpartMove.appendTo("#fullPageContent");
        });
    </script>
</body>

</html>